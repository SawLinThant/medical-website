(()=>{var e={};e.id=745,e.ids=[745],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77598:e=>{"use strict";e.exports=require("node:crypto")},36419:(e,s,t)=>{"use strict";t.r(s),t.d(s,{patchFetch:()=>w,routeModule:()=>x,serverHooks:()=>h,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var r={};t.r(r),t.d(r,{DELETE:()=>l,GET:()=>d});var o=t(42706),n=t(28203),a=t(45994),u=t(16702),i=t(73401),p=t(44512),c=t(39187);async function d(e){try{let e=await (0,i.Nd)(await (0,p.UL)(),u.x);if(e.user)return c.NextResponse.json({userId:e.user.userId,role:e.user.role,token:e.user.token,isLoggedIn:e.user.isLoggedIn});return c.NextResponse.json({message:"No session found",token:null})}catch(e){return console.error("Error while retrieving session:",e),c.NextResponse.json({message:"Internal Server Error",token:null},{status:500})}}async function l(e){let s=c.NextResponse.next();try{return console.log(u.x.password),(await (0,i.Nd)(await (0,p.UL)(),u.x)).destroy(),s.headers.set("Set-Cookie","session=; Path=/; HttpOnly; Secure; SameSite=Strict; Expires=Thu, 01 Jan 1970 00:00:00 GMT"),c.NextResponse.json({success:!0,message:"Logged out successfully"},{status:200})}catch(e){return console.error("Error during logout:",e),c.NextResponse.json({success:!1,message:"Logout failed"},{status:500})}}let x=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/auth/session/route",pathname:"/api/auth/session",filename:"route",bundlePath:"app/api/auth/session/route"},resolvedPagePath:"D:\\NextJS\\new medical web\\natsay_web_client\\src\\app\\api\\auth\\session\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:h}=x;function w(){return(0,a.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},96487:()=>{},78335:()=>{},16702:(e,s,t)=>{"use strict";t.d(s,{x:()=>r});let r={password:"noOneisyourSoul##$04034Saw973854868#dsoesldgl09mm34esgsfg6FFew4",cookieName:"myapp_session",cookieOptions:{secure:!0,httpOnly:!0,sameSite:"lax",maxAge:1209600}}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[681,461],()=>t(36419));module.exports=r})();