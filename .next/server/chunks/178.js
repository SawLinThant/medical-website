"use strict";exports.id=178,exports.ids=[178],exports.modules={24300:(e,t)=>{t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var i=t&&t.decode||u,s=0,a=0,d=0;do{if(-1===(a=e.indexOf("=",s)))break;if(-1===(d=e.indexOf(";",s)))d=n;else if(a>d){s=e.lastIndexOf(";",a-1)+1;continue}var f=c(e,s,a),h=l(e,a,f),p=e.slice(f,h);if(!o.call(r,p)){var y=c(e,a+1,d),g=l(e,d,y);34===e.charCodeAt(y)&&34===e.charCodeAt(g-1)&&(y++,g--);var w=e.slice(y,g);r[p]=function(e,t){try{return t(e)}catch(t){return e}}(w,i)}s=d+1}while(s<n);return r},t.l=function(e,t,o){var c=o&&o.encode||encodeURIComponent;if("function"!=typeof c)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=c(t);if(!i.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(!o)return u;if(null!=o.maxAge){var d=Math.floor(o.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");u+="; Max-Age="+d}if(o.domain){if(!s.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!a.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var f=o.expires;if("[object Date]"!==r.call(f)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+f.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.partitioned&&(u+="; Partitioned"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=Object.prototype.toString,o=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(e,t,r){do{var o=e.charCodeAt(t);if(32!==o&&9!==o)return t}while(++t<r);return r}function l(e,t,r){for(;t>r;){var o=e.charCodeAt(--t);if(32!==o&&9!==o)return t+1}return r}function u(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},44512:(e,t,r)=>{r.d(t,{UL:()=>o.U});var o=r(97200);r(83009),r(46250)},37301:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(void 0);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}(r(76301));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let i={current:null},s="function"==typeof o.cache?o.cache:e=>e,a=console.warn;function c(e){return function(...t){a(e(...t))}}s(e=>{try{a(i.current)}finally{i.current=null}})},97200:(e,t,r)=>{Object.defineProperty(t,"U",{enumerable:!0,get:function(){return d}});let o=r(46620),n=r(9181),i=r(29294),s=r(63033),a=r(10436),c=r(82312),l=r(60457),u=r(37301);function d(){let e="cookies",t=i.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(t.forceStatic)return h(o.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===r.type)throw Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if("after"===r.phase)throw Error(`Route ${t.route} used "cookies" inside "unstable_after(...)". This is not supported. If you need this data inside an "unstable_after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/unstable_after`)}if(t.dynamicShouldError)throw new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if("prerender"===r.type)return function(e,t){let r=f.get(t);if(r)return r;let o=(0,l.makeHangingPromise)(t.renderSignal,"`cookies()`");return f.set(t,o),Object.defineProperties(o,{[Symbol.iterator]:{value:function(){let r="`cookies()[Symbol.iterator]()`",o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},size:{get(){let r="`cookies().size`",o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},get:{value:function(){let r;r=0==arguments.length?"`cookies().get()`":`\`cookies().get(${p(arguments[0])})\``;let o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},getAll:{value:function(){let r;r=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${p(arguments[0])})\``;let o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},has:{value:function(){let r;r=0==arguments.length?"`cookies().has()`":`\`cookies().has(${p(arguments[0])})\``;let o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},set:{value:function(){let r;if(0==arguments.length)r="`cookies().set()`";else{let e=arguments[0];r=e?`\`cookies().set(${p(e)}, ...)\``:"`cookies().set(...)`"}let o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},delete:{value:function(){let r;r=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${p(arguments[0])})\``:`\`cookies().delete(${p(arguments[0])}, ...)\``;let o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},clear:{value:function(){let r="`cookies().clear()`",o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}},toString:{value:function(){let r="`cookies().toString()`",o=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,o,t)}}}),o}(t.route,r);"prerender-ppr"===r.type?(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,a.throwToInterruptStaticGeneration)(e,t,r)}(0,a.trackDynamicDataInDynamicRender)(t,r)}let u=(0,s.getExpectedRequestStore)(e);return h((0,o.areCookiesMutableInCurrentPhase)(u)?u.userspaceMutableCookies:u.cookies)}r(676);let f=new WeakMap;function h(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):g.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):w.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function p(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}function y(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}function g(){return this.getAll().map(e=>[e.name,e]).values()}function w(e){for(let e of this.getAll())this.delete(e.name);return e}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(y)},46250:(e,t,r)=>{let o=r(63033),n=r(29294),i=r(10436),s=r(37301),a=r(82312),c=r(42490);new WeakMap;class l{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){u("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){u("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}function u(e){let t=n.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(t.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if("prerender"===r.type){let o=Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,o,r)}else if("prerender-ppr"===r.type)(0,i.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let o=new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=e,t.dynamicUsageStack=o.stack,o}}}}(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},83009:(e,t,r)=>{r(9785),r(29294),r(63033),r(10436),r(82312),r(60457);let o=r(37301);r(676);let n=new WeakMap;(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},9785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return i},ReadonlyHeadersError:function(){return n}});let o=r(20614);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class i extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return o.ReflectAdapter.get(t,r,n);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==s)return o.ReflectAdapter.get(t,s,n)},set(t,r,n,i){if("symbol"==typeof r)return o.ReflectAdapter.set(t,r,n,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return o.ReflectAdapter.set(t,a??r,n,i)},has(t,r){if("symbol"==typeof r)return o.ReflectAdapter.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&o.ReflectAdapter.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return o.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||o.ReflectAdapter.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new i(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,o]of this.entries())e.call(t,o,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},46620:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return f},ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return d},areCookiesMutableInCurrentPhase:function(){return p},getModifiedCookieValues:function(){return u},responseCookiesToRequestCookies:function(){return g},wrapWithMutableAccessCheck:function(){return h}});let o=r(9181),n=r(20614),i=r(29294),s=r(63033);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new a}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function d(e,t){let r=u(t);if(0===r.length)return!1;let n=new o.ResponseCookies(e),i=n.getAll();for(let e of r)n.set(e);for(let e of i)n.set(e);return!0}class f{static wrap(e,t){let r=new o.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],a=new Set,c=()=>{let e=i.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>a.has(e.name)),t){let e=[];for(let t of s){let r=new o.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case l:return s;case"delete":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{c()}};case"set":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{c()}};default:return n.ReflectAdapter.get(e,t,r)}}});return u}}function h(e){let t=new Proxy(e,{get(e,r,o){switch(r){case"delete":return function(...r){return y("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return y("cookies().set"),e.set(...r),t};default:return n.ReflectAdapter.get(e,r,o)}}});return t}function p(e){return"action"===e.phase}function y(e){if(!p((0,s.getExpectedRequestStore)(e)))throw new a}function g(e){let t=new o.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},73401:(e,t,r)=>{r.d(t,{Nd:()=>U});var o={};r.r(o),r.d(o,{default:()=>M,getRandomValues:()=>j,randomUUID:()=>x,subtle:()=>$});var n=r(24300),i={},s=Array.from({length:64});for(let e=0;e+65<=90;e++){let t=String.fromCharCode(e+65);i[t]=e,s[e]=t}for(let e=0;e+97<=122;e++){let t=String.fromCharCode(e+97),r=e+26;i[t]=r,s[r]=t}for(let e=0;e<10;e++){i[e.toString(10)]=e+52;let t=e.toString(10),r=e+52;i[t]=r,s[r]=t}i["-"]=62,s[62]="-",i._=63,s[63]="_";var a=e=>new TextEncoder().encode(e),c=e=>new TextDecoder().decode(e),l=e=>{let t=e+"=".repeat((4-e.length%4)%4),r=t.length/4*3;t.endsWith("==")?r-=2:t.endsWith("=")&&r--;let o=new ArrayBuffer(r),n=new DataView(o);for(let e=0;e<t.length;e+=4){let r=0,o=0;for(let n=e,s=e+3;n<=s;n++)if("="===t[n])r>>=6;else{if(!(t[n]in i))throw TypeError(`Invalid character ${t[n]} in base64 string.`);r|=i[t[n]]<<(s-n)*6,o+=6}let s=e/4*3;r>>=o%8;let a=Math.floor(o/8);for(let e=0;e<a;e++){let t=(a-e-1)*8;n.setUint8(s+e,(r&255<<t)>>t)}}return new Uint8Array(o)},u=e=>{let t="string"==typeof e?a(e):e,r="";for(let e=0;e<t.length;e+=3){let o=0,n=0;for(let r=e,i=Math.min(e+3,t.length);r<i;r++)o|=t[r]<<(i-r-1)*8,n+=8;let i=Math.ceil(n/6);o<<=6*i-n;for(let e=1;e<=i;e++){let t=(i-e)*6;r+=s[(o&63<<t)>>t]}}return r},d={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},f=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),h={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},p="Fe26.2",y=(e,t)=>{let r=new Uint8Array(t);return e.getRandomValues(r),r},g=(e,t)=>{if(t<1)throw Error("Invalid random bits count");return y(e,Math.ceil(t/8))},w=async(e,t,r,o,n,i)=>{let s=a(t),c=await e.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveBits"]),l=a(r);return await e.subtle.deriveBits({name:"PBKDF2",hash:i,salt:l,iterations:o},c,8*n)},m=async(e,t,r)=>{var o;if(!(null==t?void 0:t.length))throw Error("Empty password");if(null==r||"object"!=typeof r)throw Error("Bad options");if(!(r.algorithm in h))throw Error(`Unknown algorithm: ${r.algorithm}`);let n=h[r.algorithm],i={},s=null!=(o=r.hmac)&&o,a=s?{name:"HMAC",hash:n.name}:{name:n.name},c=s?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<r.minPasswordlength)throw Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:o=""}=r;if(!o){let{saltBits:t=0}=r;if(!t)throw Error("Missing salt and saltBits options");o=[...new Uint8Array(g(e,t))].map(e=>e.toString(16).padStart(2,"0")).join("")}let s=await w(e,t,o,r.iterations,n.keyBits/8,"SHA-1"),l=await e.subtle.importKey("raw",s,a,!1,c);i.key=l,i.salt=o}else{if(t.length<n.keyBits/8)throw Error("Key buffer (password) too small");i.key=await e.subtle.importKey("raw",t,a,!1,c),i.salt=""}return r.iv?i.iv=r.iv:"ivBits"in n&&(i.iv=g(e,n.ivBits)),i},b=(e,t,r)=>["aes-128-ctr"===e?{name:"AES-CTR",counter:t.iv,length:128}:{name:"AES-CBC",iv:t.iv},t.key,"string"==typeof r?a(r):r],k=async(e,t,r,o)=>{let n=await m(e,t,r);return{encrypted:new Uint8Array(await e.subtle.encrypt(...b(r.algorithm,n,o))),key:n}},v=async(e,t,r,o)=>{let n=await m(e,t,r);return c(new Uint8Array(await e.subtle.decrypt(...b(r.algorithm,n,o))))},A=async(e,t,r,o)=>{let n=await m(e,t,{...r,hmac:!0}),i=a(o);return{digest:u(new Uint8Array(await e.subtle.sign({name:"HMAC"},n.key,i))),salt:n.salt}},S=e=>"string"==typeof e||e instanceof Uint8Array?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},E=async(e,t,r,o)=>{if(!r)throw Error("Empty password");let n=f(o),i=Date.now()+(n.localtimeOffsetMsec||0),s=JSON.stringify(t),{id:a="",encryption:c,integrity:l}=S(r);if(a&&!/^\w+$/.test(a))throw Error("Invalid password id");let{encrypted:d,key:h}=await k(e,c,n.encryption,s),y=u(new Uint8Array(d)),g=u(h.iv),w=n.ttl?i+n.ttl:"",m=`${p}*${a}*${h.salt}*${g}*${y}*${w}`,b=await A(e,l,n.integrity,m);return`${m}*${b.salt}*${b.digest}`},O=(e,t)=>{let r=e.length===t.length?0:1;r&&(t=e);for(let o=0;o<e.length;o+=1)r|=e.charCodeAt(o)^t.charCodeAt(o);return 0===r},C=async(e,t,r,o)=>{if(!r)throw Error("Empty password");let n=f(o),i=Date.now()+(n.localtimeOffsetMsec||0),s=t.split("*");if(8!==s.length)throw Error("Incorrect number of sealed components");let a=s[0],c=s[1],u=s[2],d=s[3],h=s[4],y=s[5],g=s[6],w=s[7],m=`${a}*${c}*${u}*${d}*${h}*${y}`;if(p!==a)throw Error("Wrong mac prefix");if(y){if(!/^\d+$/.test(y))throw Error("Invalid expiration");if(Number.parseInt(y,10)<=i-1e3*n.timestampSkewSec)throw Error("Expired seal")}let b="";if(c=c||"default","string"==typeof r||r instanceof Uint8Array)b=r;else if(c in r)b=r[c];else throw Error(`Cannot find password: ${c}`);b=S(b);let k=n.integrity;if(k.salt=g,!O((await A(e,b.integrity,k,m)).digest,w))throw Error("Bad hmac value");let E=l(h),C=n.encryption;C.salt=u,C.iv=l(d);let R=await v(e,b.encryption,C,E);return R?JSON.parse(R):null},R=r(77598);let $=R.webcrypto?.subtle||{},x=()=>R.randomUUID(),j=e=>R.webcrypto.getRandomValues(e),M={randomUUID:x,getRandomValues:j,subtle:$};var P={ttl:1209600,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function D(e){return"string"==typeof e?{1:e}:e}function T(e,t){if("headers"in e&&"function"==typeof e.headers.append){e.headers.append("set-cookie",t);return}let r=e.getHeader("set-cookie")??[];Array.isArray(r)||(r=[r.toString()]),e.setHeader("set-cookie",[...r,t])}function B(e){let t={...P,...e,cookieOptions:{...P.cookieOptions,...e.cookieOptions||{}}};if(e.cookieOptions&&"maxAge"in e.cookieOptions)void 0===e.cookieOptions.maxAge&&(t.ttl=0);else{var r;t.cookieOptions.maxAge=0===(r=t.ttl)?0x7fffffff:r-60}return t}var _="iron-session: Bad usage: use getIronSession(req, res, options) or getIronSession(cookieStore, options).";async function q(e,t,r,o){if(!t.cookieName)throw Error("iron-session: Bad usage. Missing cookie name.");if(!t.password)throw Error("iron-session: Bad usage. Missing password.");let n=D(t.password);if(Object.values(n).some(e=>e.length<32))throw Error("iron-session: Bad usage. Password must be at least 32 characters long.");let i=B(t),s=function(e,t){let r=t.get(e),o=r?.value;return"string"==typeof o?o:""}(i.cookieName,e),a=s?await o(s,{password:n,ttl:i.ttl}):{};return Object.defineProperties(a,{updateConfig:{value:function(e){i=B(e)}},save:{value:async function(){let t=await r(a,{password:n,ttl:i.ttl}),o=i.cookieName.length+t.length+JSON.stringify(i.cookieOptions).length;if(o>4096)throw Error(`iron-session: Cookie length is too big (${o} bytes), browsers will refuse it. Try to remove some data.`);e.set(i.cookieName,t,i.cookieOptions)}},destroy:{value:function(){Object.keys(a).forEach(e=>{delete a[e]});let t={...i.cookieOptions,maxAge:0};e.set(i.cookieName,"",t)}}}),a}var U=function(e,t){return r;async function r(r,o,i){var s;if(!r||!o)throw Error(_);if(!i)return q(r,o,e,t);if(!i)throw Error(_);if(!i.cookieName)throw Error("iron-session: Bad usage. Missing cookie name.");if(!i.password)throw Error("iron-session: Bad usage. Missing password.");let a=D(i.password);if(Object.values(a).some(e=>e.length<32))throw Error("iron-session: Bad usage. Password must be at least 32 characters long.");let c=B(i),l=(s=c.cookieName,(0,n.q)(("headers"in r&&"function"==typeof r.headers.get?r.headers.get("cookie"):r.headers.cookie)??"")[s]??""),u=l?await t(l,{password:a,ttl:c.ttl}):{};return Object.defineProperties(u,{updateConfig:{value:function(e){c=B(e)}},save:{value:async function(){if("headersSent"in o&&o.headersSent)throw Error("iron-session: Cannot set session cookie: session.save() was called after headers were sent. Make sure to call it before any res.send() or res.end()");let t=await e(u,{password:a,ttl:c.ttl}),r=(0,n.l)(c.cookieName,t,c.cookieOptions);if(r.length>4096)throw Error(`iron-session: Cookie length is too big (${r.length} bytes), browsers will refuse it. Try to remove some data.`);T(o,r)}},destroy:{value:function(){Object.keys(u).forEach(e=>{delete u[e]}),T(o,(0,n.l)(c.cookieName,"",{...c.cookieOptions,maxAge:0}))}}}),u}}(async function(e,{password:t,ttl:r=1209600}){let n=D(t),i=Math.max(...Object.keys(n).map(Number)),s={id:i.toString(),secret:n[i]},a=await E(o,e,s,{...d,ttl:1e3*r});return`${a}~2`},async function(e,{password:t,ttl:r=1209600}){let n=D(t),{sealWithoutVersion:i,tokenVersion:s}=function(e){let[t,r]=e.split("~");return{sealWithoutVersion:t,tokenVersion:null==r?null:parseInt(r,10)}}(e);try{let e=await C(o,i,n,{...d,ttl:1e3*r})??{};if(2===s)return e;return{...e.persistent}}catch(e){if(e instanceof Error&&/^(Expired seal|Bad hmac value|Cannot find password|Incorrect number of sealed components)/.test(e.message))return{};throw e}})}};