(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{38111:(e,t,a)=>{Promise.resolve().then(a.bind(a,11763))},73312:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(95155),r=a(12115),n=a(12317),l=a(31027),i=a(21567);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:r,size:l,className:a})),ref:t,...c})});o.displayName="Button"},2291:(e,t,a)=>{"use strict";a.d(t,{S:()=>d});var s=a(95155),r=a(12115),n=a(86352),l=a(98867),i=a(21567);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})})});d.displayName=n.bL.displayName},51344:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,L3:()=>f,c7:()=>m,lG:()=>i,zM:()=>d});var s=a(95155),r=a(12115),n=a(66217),l=a(21567);let i=n.bL,d=n.l9,o=n.ZL;n.bm;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=n.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsx)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:r})]})});u.displayName=n.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});f.displayName=n.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName=n.VY.displayName},33900:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(95155),r=a(12115),n=a(21567);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},98986:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(95155),r=a(12115),n=a(46195),l=a(31027),i=a(21567);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,i.cn)(d(),a),...r})});o.displayName=n.b.displayName},15157:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var s=a(95155),r=a(12115),n=a(90434),l=a(21567);let i=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...d}=e;return(0,s.jsx)(n.b,{ref:t,decorative:i,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...d})});i.displayName=n.b.displayName},65564:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m,oR:()=>u});var s=a(12115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},68427:(e,t,a)=>{"use strict";a.d(t,{Z5:()=>u,d_:()=>f,kb:()=>m});var s=a(20698),r=a(8247);function n(){let e=(0,s._)(["\n  query getProducts {\n    products(order_by: { created_at: desc }) {\n      id\n      name\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      shop {\n        id\n        name\n        logo\n        description\n        address\n        phone\n        remark\n        shop_admin_name\n      }\n      category {\n        id\n        name\n      }\n      images {\n        id\n        image_url\n      }\n    }\n  }\n"]);return n=function(){return e},e}function l(){let e=(0,s._)(["\n  query getProducts {\n    products(order_by: { price: asc }, limit: 5) {\n      id\n      name\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      shop {\n        id\n        name\n        logo\n        description\n        address\n        phone\n        remark\n        shop_admin_name\n      }\n      category {\n        id\n        name\n      }\n      images {\n        id\n        image_url\n      }\n    }\n  }\n"]);return l=function(){return e},e}function i(){let e=(0,s._)(["\n  query getProducts($id: uuid!) {\n    products(where: { id: { _eq: $id } }) {\n      id\n      name\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      shop {\n        id\n        name\n        logo\n        description\n        address\n        phone\n        remark\n        shop_admin_name\n      }\n      category {\n        id\n        name\n      }\n      images {\n        id\n        image_url\n      }\n    }\n  }\n"]);return i=function(){return e},e}function d(){let e=(0,s._)(["\n  query getProducts($category_id: uuid!) {\n    products(where: { category_id: { _eq: $category_id } }) {\n      id\n      name\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      shop {\n        id\n        name\n        logo\n        description\n        address\n        phone\n        remark\n        shop_admin_name\n      }\n      category {\n        id\n        name\n      }\n      images {\n        id\n        image_url\n      }\n    }\n  }\n"]);return d=function(){return e},e}function o(){let e=(0,s._)(["\n  query getFilteredProducts(\n    $where: products_bool_exp\n    $offset: Int\n    $limit: Int\n  ) {\n    products(\n      where: $where\n      order_by: { created_at: desc }\n      offset: $offset\n      limit: $limit\n    ) {\n      id\n      name\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      shop {\n        id\n        name\n        logo\n        description\n        address\n        phone\n        remark\n        shop_admin_name\n      }\n      category {\n        id\n        name\n      }\n      images {\n        id\n        image_url\n      }\n    }\n  }\n"]);return o=function(){return e},e}function c(){let e=(0,s._)(["\n  query getProductById($id: uuid!) {\n    products_by_pk(id: $id) {\n      id\n      quantity\n    }\n  }\n"]);return c=function(){return e},e}(0,r.J1)(n()),(0,r.J1)(l());let u=(0,r.J1)(i());(0,r.J1)(d());let m=(0,r.J1)(o()),f=(0,r.J1)(c())},71743:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{A:()=>u});var r=a(34090),n=a(15169),l=a(33634),i=a(95647),d=a.n(i),o=a(21567);let e=async()=>{let e=await (0,o.v)();return(null==e?void 0:e.token)||null},c=await e(),u=new r.R({ssrMode:!0,link:new n.P({uri:"https://api.natsay.com.mm/v1/graphql",fetch:d(),headers:{...c?{Authorization:"Bearer ".concat(c)}:{}}}),cache:new l.D});s()}catch(e){s(e)}},1)},43814:(e,t,a)=>{"use strict";a.d(t,{pp:()=>y,Wv:()=>h,bN:()=>_,UJ:()=>j,PD:()=>b,Yh:()=>v});var s=a(20698),r=a(8247);function n(){let e=(0,s._)(["\n  query getDeliveryAddressById($user_id: uuid!) {\n    delivery_addresses(where: { user_id: { _eq: $user_id } }) {\n      id\n      firstname\n      lastname\n      province\n      zone\n      address\n      phone\n      email\n      user_id\n      label\n    }\n  }\n"]);return n=function(){return e},e}function l(){let e=(0,s._)(["\n  query getDeliveryAddressById($user_id: uuid!) {\n    billing_addresses(where: { user_id: { _eq: $user_id } }) {\n      id\n      firstname\n      lastname\n      province\n      zone\n      address\n      phone\n      email\n    }\n  }\n"]);return l=function(){return e},e}let i=(0,r.J1)(n()),d=(0,r.J1)(l());function o(){let e=(0,s._)(["\n  mutation updateDeliveryAddress(\n    $user_id: uuid!\n    $input: delivery_addresses_set_input!\n  ) {\n    update_delivery_addresses(\n      where: { user_id: { _eq: $user_id } }\n      _set: $input\n    ) {\n      returning {\n        id\n        firstname\n        lastname\n        province\n        zone\n        address\n        phone\n        email\n        label\n      }\n    }\n  }\n"]);return o=function(){return e},e}function c(){let e=(0,s._)(["\n  mutation insertDeliveryAddress($input: delivery_addresses_insert_input!) {\n    insert_delivery_addresses_one(object: $input) {\n      id\n      firstname\n      lastname\n      province\n      zone\n      address\n      phone\n      email\n    }\n  }\n"]);return c=function(){return e},e}function u(){let e=(0,s._)(["\n  mutation updateBillingAddress(\n    $user_id: uuid!\n    $input: billing_addresses_set_input!\n  ) {\n    update_billing_addresses(\n      where: { user_id: { _eq: $user_id } }\n      _set: $input\n    ) {\n      returning {\n        id\n        user_id\n        firstname\n        lastname\n        province\n        zone\n        address\n        phone\n        email\n      }\n    }\n  }\n"]);return u=function(){return e},e}function m(){let e=(0,s._)(["\n  mutation insertBillingAddress($input: billing_addresses_insert_input!) {\n    insert_billing_addresses_one(object: $input) {\n      id\n      firstname\n      lastname\n      province\n      zone\n      address\n      phone\n      email\n    }\n  }\n"]);return m=function(){return e},e}let f=(0,r.J1)(o()),p=(0,r.J1)(c()),g=(0,r.J1)(u()),x=(0,r.J1)(m()),h=async(e,t)=>{try{let{data:a}=await e.query({query:i,variables:{user_id:t.user_id},fetchPolicy:"network-only"});if(!(null==a?void 0:a.delivery_addresses)||!Array.isArray(a.delivery_addresses))return console.warn("Unexpected data structure:",a),null;return a.delivery_addresses}catch(e){var a;return console.log("Error finding delivery addresses:",e.message||e),e.networkError&&console.log("Network error:",e.networkError),(null===(a=e.graphQLErrors)||void 0===a?void 0:a.length)&&e.graphQLErrors.forEach(e=>console.log("GraphQL error:",e.message,e.extensions)),null}},y=async(e,t)=>{try{var a;let{data:s}=await e.query({query:d,variables:{user_id:t.user_id}});return null!==(a=null==s?void 0:s.billing_addresses)&&void 0!==a?a:null}catch(e){return console.log("Error finding delivery addresses:",e.message||e),null}},v=async(e,t)=>{try{var a;let{data:s}=await e.mutate({mutation:f,variables:{user_id:t.user_id,input:t.input}});return null!==(a=null==s?void 0:s.update_delivery_addresses.returning)&&void 0!==a?a:null}catch(e){return console.log("Error updating delivery address:",e.message||e),null}},b=async(e,t)=>{try{var a,s;let{data:r}=await e.mutate({mutation:g,variables:{user_id:t.user_id,input:t.input}});return null!==(s=null==r?void 0:null===(a=r.update_billing_addresses)||void 0===a?void 0:a.returning[0])&&void 0!==s?s:null}catch(e){return console.log("Error updating billing address:",e.message||e),null}},j=async(e,t)=>{try{var a;let{data:s}=await e.mutate({mutation:p,variables:{input:t.input}});return null!==(a=null==s?void 0:s.insert_delivery_addresses_one)&&void 0!==a?a:null}catch(e){return console.log("Error inserting delivery address:",e.message||e),null}},_=async(e,t)=>{try{var a;let{data:s}=await e.mutate({mutation:x,variables:{input:t.input}});return null!==(a=null==s?void 0:s.insert_billing_addresses_one)&&void 0!==a?a:null}catch(e){return console.log("Error inserting delivery address:",e.message||e),null}}},51562:(e,t,a)=>{"use strict";a.d(t,{es:()=>u,$u:()=>m,WF:()=>f});var s=a(20698),r=a(8247);function n(){let e=(0,s._)(["\n  mutation insertOrder($input: orders_insert_input!) {\n    insert_orders_one(object: $input) {\n      id\n      user_id\n      status\n      total_price\n      payment_id\n      payment_proof\n      shipping_address\n    }\n  }\n"]);return n=function(){return e},e}function l(){let e=(0,s._)(["\n  mutation insertOrder($input: order_items_insert_input!) {\n    insert_order_items_one(object: $input) {\n      id\n      order_id\n      product_id\n      shop_id\n      quantity\n      price\n      subtotal\n    }\n  }\n"]);return l=function(){return e},e}let i=(0,r.J1)(n()),d=(0,r.J1)(l());function o(){let e=(0,s._)(["\n  query GetOrders($where: orders_bool_exp, $offset: Int, $limit: Int) {\n    orders(\n      where: $where\n      offset: $offset\n      limit: $limit\n      order_by: { created_date: desc }\n    ) {\n      id\n      user_id\n      status\n      total_price\n      shipping_address\n      payment_id\n      payment_proof\n      created_date\n      updated_date\n      order_items {\n        quantity\n        subtotal\n        price\n        shop_id\n        product {\n          id\n          name\n          images {\n            id\n            image_url\n          }\n        }\n      }\n    }\n    orders_aggregate(where: $where) {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return o=function(){return e},e}let c=(0,r.J1)(o()),u=async(e,t)=>{try{var a;let{data:s}=await e.mutate({mutation:i,variables:{input:t.input}});return null!==(a=null==s?void 0:s.insert_orders_one)&&void 0!==a?a:null}catch(e){return console.log("Error inserting orders:",e.message||e),null}},m=async(e,t)=>{try{var a;let{data:s}=await e.mutate({mutation:d,variables:{input:t.input}});return null!==(a=null==s?void 0:s.insert_order_items_one)&&void 0!==a?a:null}catch(e){return console.log("Error inserting orders:",e.message||e),null}},f=async(e,t)=>{try{var a,s;let{where:r,offset:n,limit:l}=t;if(!c)throw Error("GraphQL query GET_ORDERS is not defined.");let{data:i}=await e.query({query:c,fetchPolicy:"no-cache",variables:{where:r,offset:n,limit:l}});if(!i)throw Error("No data returned from GraphQL query.");return{orders:i.orders||[],count:(null===(s=i.orders_aggregate)||void 0===s?void 0:null===(a=s.aggregate)||void 0===a?void 0:a.count)||0}}catch(e){return console.error("Error fetching orders:",e.message||e),{orders:[],count:0}}}},56206:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var s=a(20698);function r(){let e=(0,s._)(["\n  mutation updateProduct($id: uuid!, $input: products_set_input!) {\n    update_products_by_pk(pk_columns: { id: $id }, _set: $input) {\n      id\n      name\n      category_id\n      price\n      bulk_price\n      quantity\n      description\n      dosage\n      usage\n      storage\n      updated_at\n    }\n  }\n"]);return r=function(){return e},e}let n=(0,a(8247).J1)(r());var l=a(68427);let i=async(e,t)=>{try{var a,s;let{data:r}=await e.query({query:l.d_,variables:{id:t.id},fetchPolicy:"network-only"});if(!(null==r?void 0:r.products_by_pk))return console.error("Product not found"),null;let i=r.products_by_pk.quantity-t.quantity;if(i<0)return console.error("Insufficient stock"),null;let{data:d}=await e.mutate({mutation:n,variables:{id:t.id,input:{quantity:i}}});return null!==(s=null==d?void 0:null===(a=d.update_products_by_pk)||void 0===a?void 0:a.quantity)&&void 0!==s?s:null}catch(e){return console.error("Error updating product quantity:",e.message||e),null}}},76499:(e,t,a)=>{"use strict";a.d(t,{F_:()=>n,rD:()=>r,w8:()=>l,z6:()=>s});let s=[{id:"1",name:"Yangon"},{id:"2",name:"Mandalay"}],r=[{id:"1",zone:"Yangon",province:[{id:"1",name:"North Dagon"},{id:"2",name:"South Dagon"},{id:"3",name:"Bahan"},{id:"4",name:"Hlaing"}]},{id:"2",zone:"Mandalay",province:[{id:"1",name:"Chan Aye Tharzan"},{id:"2",name:"29x24 Street"},{id:"3",name:"Kan Daw Mon"},{id:"4",name:"30th Street"}]}],n=[{id:"abfa998a-8e84-4ca0-887e-79f572127bdd",name:"Cash On Delivery",logo:"/images/payment/kpay.png"},{id:"5af460bc-bb4c-4183-b655-22d8dcc18d36",name:"KBZ Pay",logo:"/images/payment/kpay.png"},{id:"b6447a68-7a77-4365-a23f-6d9232a4ee27",name:"Wave Pay",logo:"/images/payment/wave.jpg"},{id:"d776755c-0120-4831-91fb-a8f8a7e5f233",name:"Aya Pay",logo:"/images/payment/aya.jpg"}],l=[{id:"1",name:"All",value:null},{id:"2",name:"Pending",value:"Pending"},{id:"3",name:"Processing",value:"Processing"},{id:"4",name:"Shipped",value:"Shipped"},{id:"5",name:"Delivered",value:"Delivered"}]},74035:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,JA:()=>d,bE:()=>l,sX:()=>o});var s=a(48943);let r=e=>{localStorage.setItem("cart",JSON.stringify(e))},n=(0,s.Z0)({name:"cart",initialState:{cartItems:(()=>{{let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}})()},reducers:{addToCart:(e,t)=>{let a=t.payload,s=e.cartItems.findIndex(e=>e.id===a.id);s>=0?e.cartItems[s].quantity+=a.quantity:e.cartItems.push({...a,quantity:a.quantity}),r(e.cartItems)},removeFromCart:(e,t)=>{let a=t.payload;e.cartItems=e.cartItems.filter(e=>e.id!==a),r(e.cartItems)},removeItemByOne:(e,t)=>{let a=t.payload,s=e.cartItems.findIndex(e=>e.id===a);if(s>=0){let t=e.cartItems[s];t.quantity>1?t.quantity-=1:e.cartItems.splice(s,1)}r(e.cartItems)},clearCart:e=>{e.cartItems=[],r(e.cartItems)}}}),{addToCart:l,removeFromCart:i,removeItemByOne:d,clearCart:o}=n.actions,c=n.reducer},95418:(e,t,a)=>{"use strict";a.d(t,{w:()=>d});var s=a(74039),r=a(12115),n=a(20698);function l(){let e=(0,n._)(["\n  mutation getFileUploadUrl($content_type: String!, $folder: String!) {\n    getFileUploadUrl(content_type: $content_type, folder: $folder) {\n      fileUploadUrl\n      fileName\n      content_type\n    }\n  }\n"]);return l=function(){return e},e}let i=(0,a(8247).J1)(l()),d=()=>{let[e]=(0,s.n)(i),[t,a]=r.useState(!1),[n,l]=r.useState(void 0);return{uploadToS3:async t=>{if(!t){l(Error("Please select a file to upload"));return}a(!0),l(void 0);try{let a=t.type;if(a.startsWith("image"))a="image";else if(a.startsWith("application/pdf"))a="pdf";else if(a.startsWith("video"))a="video";else throw Error("Unsupported file type");let{data:s}=await e({variables:{content_type:a,folder:"products"}}),{fileUploadUrl:r}=s.getFileUploadUrl,n=await fetch(r,{method:"PUT",body:t,headers:{"Content-Type":t.type,"x-amz-acl":"public-read"}});if(!n.ok)throw Error("Failed to upload file: ".concat(n.statusText));return console.log("Image uploaded successfully"),r.split("?")[0]}catch(e){l(e)}finally{a(!1)}},loading:t,error:n}}},21567:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l,o:()=>d,v:()=>i});var s=a(43463),r=a(69795),n=a(2818);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}let i=async()=>{try{let e=n.env.NEXT_PUBLIC_BASE_URL||"http://192.168.91.70:3000",t=await fetch("".concat(e,"/api/auth/session"),{headers:{"Content-Type":"application/json"}});if(t.ok)return await t.json();return null}catch(e){return console.error("Error fetching session data:",e),null}},d=async()=>{localStorage.removeItem("success")}},66329:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),r=a(65587),n=a(5565);let l=e=>{let{label:t}=e;return(0,s.jsx)("div",{className:"w-full min-h-[15rem] p-4",children:(0,s.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-[150px] h-[60px] relative",children:(0,s.jsx)(n.default,{alt:"logo",src:"/images/logo.png",layout:"fill",objectFit:"contain"})}),(0,s.jsxs)("div",{className:"flex lg:flex-row items-center md:flex-row flex-col gap-2 mt-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Welcome to"}),(0,s.jsx)("span",{className:"font-semibold text-secondary_color",children:"NatSay.com.mm"})]}),(0,s.jsxs)("div",{className:"mt-6 rounded-xl border border-secondary_color flex flex-row items-center gap-4 p-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(r.A,{fill:"#796f6f",size:20,color:"white",strokeWidth:1.25})}),(0,s.jsx)("span",{className:"text-xs text-secondary_color",children:t})]})]})})}},18768:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(95155),r=a(76499),n=a(57895),l=a(12115),i=a(14643),d=a(55182);let o=e=>{let{address:t,setAddress:a}=e,[o,c]=(0,l.useState)(""),[u,m]=(0,l.useState)([]),[f,p]=(0,l.useState)(""),[g,x]=(0,l.useState)({id:"",firstname:"",lastname:"",province:"",zone:"",address:"",phone:"",email:"",user_id:"",label:""});return(0,l.useEffect)(()=>{t&&x(t)},[t]),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 items-start",children:[(0,s.jsx)("h2",{className:"font-semibold text-xl",children:"Billing Address"}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-6 mt-4",children:[(0,s.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,s.jsx)(d.A,{label:"First name *",value:g.firstname,name:"firstname",placeHolder:"Enter your first name",type:"text",onChange:e=>{x(t=>({...t,[e.target.name]:e.target.value})),a({...t,[e.target.name]:e.target.value})}}),(0,s.jsx)(d.A,{label:"Last name *",name:"lastname",value:g.lastname,placeHolder:"Enter your last name",type:"text",onChange:e=>{x(t=>({...t,[e.target.name]:e.target.value})),a({...t,[e.target.name]:e.target.value})}})]}),(0,s.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Province"}),(0,s.jsx)(n.A,{options:u,label:""===g.zone?"Select Province":g.province,setCategory:p})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,s.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Zone"}),(0,s.jsx)(n.A,{options:r.z6,label:""===g.zone?"Select Zone":g.zone,setCategory:c})]})]}),(0,s.jsx)(i.A,{value:g.address,label:"Address",name:"address",placeHolder:"Enter your address",onChange:e=>{x(t=>({...t,[e.target.name]:e.target.value})),a({...t,[e.target.name]:e.target.value})}}),(0,s.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,s.jsx)(d.A,{label:"Phone *",value:g.phone,name:"phone",placeHolder:"Enter your phone",type:"text",onChange:e=>{x(t=>({...t,[e.target.name]:e.target.value})),a({...t,[e.target.name]:e.target.value})}}),(0,s.jsx)(d.A,{label:"Email *",name:"email",value:g.email,placeHolder:"Enter your email",type:"email",onChange:e=>{x(t=>({...t,[e.target.name]:e.target.value})),a({...t,[e.target.name]:e.target.value})}})]})]})]})}},72803:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{A:()=>x});var r=a(95155),n=a(76499),l=a(57895),i=a(12115),d=a(14643),o=a(55182),c=a(2291),u=a(43814),m=a(71743),f=a(21567),p=a(169),g=e([m,p]);[m,p]=g.then?(await g)():g;let x=e=>{let{setSameAddress:t,setShippingAddress:a}=e,[s,g]=(0,i.useState)(""),[x,h]=(0,i.useState)([]),[y,v]=(0,i.useState)(""),[b,j]=(0,i.useState)(!1),[_,N]=(0,i.useState)(null),[w,S]=(0,i.useState)({id:"",firstname:"",lastname:"",province:"",zone:"",address:"",phone:"",email:"",user_id:"",label:""});return(0,i.useEffect)(()=>{if(s){S(e=>({...e,zone:s}));let e=n.rD.find(e=>e.zone===s);console.log("selected zone:",e),e&&h(e.province)}else h([])},[s]),(0,i.useEffect)(()=>{y&&S(e=>({...e,province:y}))},[y]),(0,i.useEffect)(()=>{(async()=>{let e=await (0,f.v)();e&&N(e)})()},[]),(0,i.useEffect)(()=>{y&&S(e=>({...e,province:y}))},[y]),(0,i.useEffect)(()=>{(null==_?void 0:_.userId)&&(S(e=>({...e,user_id:null==_?void 0:_.userId})),(async()=>{try{let e=await (0,u.Wv)(m.A,{user_id:(null==_?void 0:_.userId)||""});e&&e.length>0?(j(!0),S(e[0]),a(e[0].address),localStorage.setItem("DeliveryAddress",JSON.stringify(e[0]))):console.log("No delivery address found for this user.")}catch(e){console.error("Error fetching delivery address:",e)}})())},[_]),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-4 items-start",children:[(0,r.jsx)("h2",{className:"font-semibold text-xl",children:"Delivery Address"}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-6 mt-4",children:[(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsx)(o.A,{label:"First name *",value:w.firstname,name:"firstname",placeHolder:"Enter your first name",type:"text",onChange:e=>S(t=>({...t,[e.target.name]:e.target.value}))}),(0,r.jsx)(o.A,{label:"Last name *",name:"lastname",value:w.lastname,placeHolder:"Enter your last name",type:"text",onChange:e=>S(t=>({...t,[e.target.name]:e.target.value}))})]}),(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,r.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Province"}),(0,r.jsx)(l.A,{options:x,label:""===w.zone?"Select Province":w.province,setCategory:v})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,r.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Zone"}),(0,r.jsx)(l.A,{options:n.z6,label:""===w.zone?"Select Zone":w.zone,setCategory:g})]})]}),(0,r.jsx)(d.A,{value:w.address,label:"Address",name:"address",placeHolder:"Enter your address",onChange:e=>{S(t=>({...t,[e.target.name]:e.target.value}))}}),(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsx)(o.A,{label:"Phone *",value:w.phone,name:"phone",placeHolder:"Enter your phone",type:"text",onChange:e=>S(t=>({...t,[e.target.name]:e.target.value}))}),(0,r.jsx)(o.A,{label:"Email *",name:"email",value:w.email,placeHolder:"Enter your email",type:"email",onChange:e=>S(t=>({...t,[e.target.name]:e.target.value}))})]}),(0,r.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{className:"min-w-12 min-h-14 flex flex-row items-center justify-center gap-2",children:[(0,r.jsx)(c.S,{onCheckedChange:()=>t(w),id:"same address"}),(0,r.jsx)("span",{className:"text-sm",children:"Bill to same address"})]}),(0,r.jsx)(p.A,{addressData:w,isAddressExist:b})]})]})]})};s()}catch(e){s(e)}})},169:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{A:()=>y});var r=a(95155),n=a(73312),l=a(51344),i=a(71743),d=a(43814),o=a(76499),c=a(66329),u=a(57895),m=a(55182),f=a(40767),p=a(77594),g=a(5565),x=a(12115),h=e([i]);i=(h.then?(await h)():h)[0];let y=e=>{let{addressData:t,isAddressExist:a}=e,[s,h]=(0,x.useState)(),[y,v]=(0,x.useState)([]),[b,j]=(0,x.useState)(""),[_,N]=(0,x.useState)(""),[w,S]=(0,x.useState)(!1),[A,E]=(0,x.useState)(!1),[k,I]=(0,x.useState)("Home"),[C,z]=(0,x.useState)({id:"",firstname:"",lastname:"",province:"",zone:"",address:"",phone:"",email:"",user_id:"",label:""});(0,x.useEffect)(()=>{t&&z(t)},[t]),(0,x.useEffect)(()=>{z(e=>({...e,label:k}))},[t,k]),(0,x.useEffect)(()=>{if(s){z(e=>({...e,zone:s}));let e=o.rD.find(e=>e.zone===s);console.log("selected zone:",e),e&&v(e.province)}else v([])},[s]),(0,x.useEffect)(()=>{b&&z(e=>({...e,province:b}))},[b]);let q=async()=>{try{E(!0),await (0,d.UJ)(i.A,{input:{firstname:C.firstname,lastname:C.lastname,province:C.province,zone:C.zone,address:C.address,phone:C.phone,email:C.email,user_id:C.user_id,label:C.label}})&&(N("Address Success"),localStorage.setItem("DeliveryAddress",JSON.stringify(C)))}catch(e){E(!1),console.log("Error submitting address:",e)}finally{E(!1)}},$=async()=>{try{E(!0),await (0,d.Yh)(i.A,{user_id:C.user_id,input:{firstname:C.firstname,lastname:C.lastname,province:C.province,zone:C.zone,address:C.address,phone:C.phone,email:C.email,label:C.label}})&&N("Address Success")}catch(e){E(!1),console.log("Error submitting address:",e)}finally{E(!1)}};return(0,r.jsxs)(l.lG,{open:w,onOpenChange:e=>{e||N("")},children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsx)("div",{onClick:()=>S(!0),className:"border-none bg-transparent hover:cursor-pointer underline text-muted-foreground text-sm",children:"Save the address"})}),""===_&&(0,r.jsxs)(l.Cf,{className:"sm:max-w-[50vw] lg:min-h-[20rem] px-4 lg:py-12 md:py-12 py-10 flex flex-col",children:[(0,r.jsx)(l.L3,{}),(0,r.jsx)("div",{onClick:()=>{S(!1)},className:"absolute top-4 right-6 p-1 border hover:cursor-pointer hover:border-gray-600 border-gray-300 rounded-full",children:(0,r.jsx)(f.A,{size:20})}),(0,r.jsxs)("div",{className:" w-full h-full grid grid-cols-1 gap-y-5 ",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"w-[150px] h-[60px] relative",children:(0,r.jsx)(g.default,{alt:"logo",src:"/images/logo.png",layout:"fill",objectFit:"contain"})}),(0,r.jsxs)("div",{className:"flex lg:flex-row items-center md:flex-row flex-col gap-2 mt-2",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Welcome to"}),(0,r.jsx)("span",{className:"font-semibold text-secondary_color",children:"NatSay.com.mm"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 px-10 mt-6 ",children:[(0,r.jsx)("h2",{className:"font-semibold text-xl",children:"Add New Address"}),(0,r.jsxs)("div",{className:"w-full max-h-[35vh] flex flex-col gap-6 mt-4 overflow-y-auto scrollbar-thin",children:[(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsx)(m.A,{label:"First name *",value:C.firstname,name:"firstname",placeHolder:"Enter your first name",type:"text",onChange:e=>z(t=>({...t,[e.target.name]:e.target.value}))}),(0,r.jsx)(m.A,{label:"Last name *",name:"lastname",value:C.lastname,placeHolder:"Enter your last name",type:"text",onChange:e=>z(t=>({...t,[e.target.name]:e.target.value}))})]}),(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,r.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Province"}),(0,r.jsx)(u.A,{options:o.z6,label:t.province,setCategory:j})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,r.jsx)("label",{htmlFor:"",className:"text-sm",children:"Select Zone"}),(0,r.jsx)(u.A,{options:o.z6,label:t.zone,setCategory:h})]})]}),(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-4",children:[(0,r.jsx)(m.A,{label:"Phone *",value:C.phone,name:"phone",placeHolder:"Enter your phone",type:"text",onChange:e=>z(t=>({...t,[e.target.name]:e.target.value}))}),(0,r.jsx)(m.A,{label:"Email *",name:"email",value:C.email,placeHolder:"Enter your email",type:"email",onChange:e=>z(t=>({...t,[e.target.name]:e.target.value}))})]}),(0,r.jsx)(m.A,{value:C.address,label:"Address",type:"text",name:"address",placeHolder:"Enter your address",onChange:e=>z(t=>({...t,[e.target.name]:e.target.value}))})]}),(0,r.jsxs)("div",{className:"felx flex-col gap-2",children:[(0,r.jsx)("label",{htmlFor:"",className:"text-sm",children:"Label for delivery *"}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4 mt-2",children:[(0,r.jsx)(n.$,{variant:"Home"===k?"default":"outline",onClick:()=>I("Home"),children:"Home"}),(0,r.jsx)(n.$,{variant:"Office"===k?"default":"outline",onClick:()=>I("Office"),children:"Office"})]})]}),(0,r.jsx)(n.$,{onClick:()=>{a?$():q()},className:"flex items-center justify-center",children:A?(0,r.jsx)(p.A,{className:"animate-spin"}):"Save new address"})]})]})]}),"Address Success"===_&&(0,r.jsxs)(l.Cf,{className:" px-4 lg:py-12 md:py-12 py-10",children:[(0,r.jsx)(l.L3,{}),(0,r.jsx)("div",{onClick:()=>{S(!1),N("")},className:"absolute top-4 right-6 p-1 border hover:cursor-pointer hover:border-gray-600 border-gray-300 rounded-full",children:(0,r.jsx)(f.A,{size:20})}),(0,r.jsx)(c.A,{label:"Address has been successfully saved"})]})]})};s()}catch(e){s(e)}})},11763:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{default:()=>_});var r=a(95155),n=a(15157),l=a(72803),i=a(18768),d=a(4829),o=a(98783),c=a(12115),u=a(43814),m=a(21567),f=a(71743),p=a(51562),g=a(83391),x=a(74035),h=a(95418),y=a(65564),v=a(76046),b=a(56206),j=e([l,f]);[l,f]=j.then?(await j)():j;let _=()=>{let[e,t]=(0,c.useState)({id:"",firstname:"",lastname:"",province:"",zone:"",address:"",phone:"",email:"",user_id:"",label:""}),a=(0,g.wA)(),[s,j]=(0,c.useState)(),[_,N]=(0,c.useState)(),[w,S]=(0,c.useState)(!1),[A,E]=(0,c.useState)(null),[k,I]=(0,c.useState)(!1),{uploadToS3:C}=(0,h.w)(),z=(0,v.useRouter)(),[q,$]=(0,c.useState)("abfa998a-8e84-4ca0-887e-79f572127bdd"),[P,D]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{let e=await (0,m.v)();e&&E(e)})()},[]),(0,c.useEffect)(()=>{(null==A?void 0:A.userId)&&(t(e=>({...e,user_id:null==A?void 0:A.userId})),(async()=>{try{let e=await (0,u.pp)(f.A,{user_id:(null==A?void 0:A.userId)||""});e&&e.length>0?I(!0):console.log("No delivery address found for this user.")}catch(e){console.error("Error fetching delivery address:",e)}})())},[A]);let O=(0,c.useCallback)(async()=>{try{await (0,u.bN)(f.A,{input:{firstname:e.firstname,lastname:e.lastname,province:e.province,zone:e.zone,address:e.address,phone:e.phone,email:e.email,user_id:e.user_id}})}catch(e){console.log("Error submitting address:",e)}finally{}},[e]),F=(0,g.d4)(e=>e.cart.cartItems),J=(0,c.useCallback)(async()=>{try{await (0,u.PD)(f.A,{user_id:e.user_id,input:{firstname:e.firstname,lastname:e.lastname,province:e.province,zone:e.zone,address:e.address,phone:e.phone,email:e.email}})}catch(e){console.log("Error submitting address:",e)}finally{}},[e]),R=(0,c.useCallback)(()=>k?J():O(),[k,O,J]),T=(0,c.useCallback)(async()=>{try{let t;if(S(!0),await R(),s&&!(t=await C(s)))throw Error("Failed to upload payment image.");let r=await (0,p.es)(f.A,{input:{user_id:null==A?void 0:A.userId,status:"Pending",total_price:_,payment_id:q,payment_proof:t,shipping_address:P}});if(!r)throw Error("Failed to create order.");let n=r.id;await Promise.all(F.map(e=>{var t;return(0,p.$u)(f.A,{input:{order_id:n,product_id:e.id,shop_id:null===(t=e.shop)||void 0===t?void 0:t.id,quantity:e.quantity,price:e.bulk_price,subtotal:e.bulk_price?e.bulk_price*e.quantity:0}})})),await Promise.all(F.map(e=>(0,b.Y)(f.A,{id:e.id,quantity:e.quantity}))),localStorage.setItem("success","success-order"),localStorage.setItem("orderID",JSON.stringify(n)),localStorage.setItem("paymentID",JSON.stringify(q)),localStorage.setItem("paymentID",JSON.stringify(q)),localStorage.setItem("BillingAddress",JSON.stringify(e)),localStorage.setItem("ordered items",JSON.stringify(F)),a((0,x.sX)()),(0,y.oR)({description:"Order successfully placed"}),z.push("/order-success")}catch(e){console.log("Error creating order:",e),(0,y.oR)({description:"Failed to create order"})}finally{S(!1)}},[e,s,_,q,A,F,a,R,C]);return(0,r.jsxs)("div",{className:"w-full grid lg:grid-cols-5 md:grid-cols-5 grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"lg:col-span-3 md:col-span-3 col-span-1 min-h-32 border rounded-md py-4 px-8 flex flex-col gap-4 bg-white",children:[(0,r.jsx)("div",{className:"w-full min-h-52",children:(0,r.jsx)(l.A,{setShippingAddress:D,setSameAddress:t})}),(0,r.jsx)(n.w,{className:"my-4 border-t border-gray-300"}),(0,r.jsx)("div",{className:"w-full min-h-52",children:(0,r.jsx)(i.A,{setAddress:t,address:e})}),(0,r.jsx)(n.w,{className:"my-4 border-t border-gray-300"}),(0,r.jsx)("div",{className:"w-full min-h-36",children:(0,r.jsx)(d.A,{setPayment:$})})]}),(0,r.jsx)("div",{className:"lg:col-span-2 md:col-span-2 col-span-1",children:(0,r.jsx)(o.A,{setImage:j,setTotalPrice:N,placeOrder:T,orderLoading:w})})]})};s()}catch(e){s(e)}})},98783:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(95155),r=a(73312),n=a(15157),l=a(11072),i=a(77509),d=a(12115);let o=e=>{let{onFileSelect:t,multiple:a=!1,accept:r,className:n}=e,[o,c]=(0,d.useState)(!1),u=(0,d.useRef)(null),[m,f]=(0,d.useState)(null),p=e=>{e.preventDefault(),e.stopPropagation(),c("dragenter"===e.type||"dragover"===e.type)};return(0,s.jsxs)("div",{className:"h-full",children:[(0,s.jsxs)("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1);let s=e.dataTransfer.files;if(!s)return;if(!a&&s.length>1){f("Only one file is allwed");return}let n=r?r.split(","):[];for(let e=0;e<s.length;e++){let t=s[e],a=n.some(e=>new RegExp(e.replace("*",".*")).test(t.type));if(r&&!a){f("Invalid file type: ".concat(t.name));return}}f(null),t(s)},className:"".concat(n," border-2 border-dashed flex flex-col items-center justify-center gap-2 p-6 rounded-lg text-center cursor-pointer transition-colors h-full ").concat(o?"border-primary":"border-gray-400 bg-gray-50"),onClick:()=>{var e;null===(e=u.current)||void 0===e||e.click()},children:[(0,s.jsx)("input",{ref:u,type:"file",className:"hidden",multiple:a,accept:r,onChange:e=>{e.target.files&&t(e.target.files)}}),(0,s.jsx)(l.A,{color:"#b09696",size:22}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:a?(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,s.jsx)(i.A,{color:"black"}),(0,s.jsxs)("div",{className:"text-black",children:[(0,s.jsx)("span",{className:"text-inputlabel underline",children:"Click to upload"})," or drag and frop"]})]}):"Upload a screenshot here"})]}),m&&(0,s.jsx)("p",{className:"text-xs text-error mt-2",children:m})]})};var c=a(40767),u=a(77594),m=a(5565),f=a(83391);let p=e=>{let{placeOrder:t,orderLoading:a,setTotalPrice:l,setImage:i}=e,[p,g]=(0,d.useState)(!1),[x,h]=(0,d.useState)([]);(0,f.wA)();let y=(0,f.d4)(e=>e.cart.cartItems),v=y.length,b=y.reduce((e,t)=>e+(t&&t.bulk_price&&t.bulk_price>0?t.bulk_price:t.price)*t.quantity,0);(0,d.useEffect)(()=>{g(!0),l(b-100)},[y]);let j=e=>{h(t=>t.filter((t,a)=>a!==e))};return(0,d.useEffect)(()=>{x.length>0&&i(x[0])},[x]),(0,s.jsxs)("div",{className:"w-full min-h-36 py-4 px-8 bg-white  border rounded-md flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"w-full flex flex-col gap-2",children:p&&y.length>0&&y.map(e=>{var t;return(0,s.jsxs)("div",{className:"w-full grid grid-cols-4 gap-3 min-h-16",children:[(0,s.jsxs)("div",{className:"col-span-2 flex flex-row items-center gap-1",children:[(0,s.jsx)("div",{className:"w-full h-full relative",children:(0,s.jsx)(m.default,{alt:"",layout:"fill",objectFit:"contain",src:(null===(t=e.images)||void 0===t?void 0:t[0].image_url)||"/images/image_placeholder.jpg"})}),(0,s.jsx)("span",{className:"text-sm",children:e.name})]}),(0,s.jsx)("div",{className:"h-full col-span-1 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["x",e.quantity]})}),(0,s.jsx)("div",{className:"h-full col-span-1 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-sm",children:["MMK"," ",(e.quantity*(e.bulk_price||0)).toLocaleString()]})})]},e.id)})}),(0,s.jsx)(n.w,{className:"my-4"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)("span",{className:"",children:"Subtotal"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",p?v:0," items)"]})]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["MMK ",p?b.toLocaleString():0]})]}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,s.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,s.jsx)("span",{className:"",children:"Discount"})}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["MMK ",100..toLocaleString()]})]}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,s.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,s.jsx)("span",{className:"",children:"Delivery"})}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Free"})]}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,s.jsx)("span",{className:"",children:"Tax"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"PDV 20% (included)"})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"MMK 0,000"})]})]}),(0,s.jsx)(n.w,{className:"my-4"}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,s.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,s.jsx)("span",{className:"",children:"Total:"})}),(0,s.jsxs)("span",{className:"text-muted-foreground font-bold",children:["MMK ",p?(b-100).toLocaleString():"0,000"]})]}),(0,s.jsx)("div",{className:"h-6"}),x.length<1?(0,s.jsx)("div",{className:"w-full h-28",children:(0,s.jsx)(o,{className:"w-full h-full",onFileSelect:e=>{h(t=>[...t,...Array.from(e)])},multiple:!1})}):null,x.map((e,t)=>(0,s.jsxs)("div",{className:"w-full h-28 border rounded-md relative",children:[(0,s.jsx)(m.default,{objectFit:"contain",layout:"fill",src:URL.createObjectURL(e),alt:"payment"}),(0,s.jsx)("div",{onClick:()=>j(t),className:"absolute top-1 right-2 hover:cursor-pointer",children:(0,s.jsx)(c.A,{size:30,color:"black"})})]},t)),(0,s.jsx)(r.$,{disabled:a,onClick:t,className:"mt-3 flex items-center justify-center",children:a?(0,s.jsx)(u.A,{className:"animate-spin"}):"Place Order"})]})}},4829:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var s=a(95155),r=a(98986),n=a(12115),l=a(31470),i=a(33565),d=a(21567);let o=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.bL,{className:(0,d.cn)("grid gap-6",a),...r,ref:t})});o.displayName=l.bL.displayName;let c=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,s.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=l.q7.displayName;var u=a(5565);function m(e){let{setPayment:t}=e;return(0,s.jsxs)(o,{onValueChange:e=>t(e),defaultValue:"abfa998a-8e84-4ca0-887e-79f572127bdd",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c,{value:"abfa998a-8e84-4ca0-887e-79f572127bdd",id:"abfa998a-8e84-4ca0-887e-79f572127bdd"}),(0,s.jsx)(r.J,{htmlFor:"r1",className:"text-muted-foreground",children:"Cash on delivery"})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,s.jsx)(c,{value:"5af460bc-bb4c-4183-b655-22d8dcc18d36",id:"5af460bc-bb4c-4183-b655-22d8dcc18d36"}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)("div",{className:"h-12 w-12 relative",children:(0,s.jsx)(u.default,{alt:"kpay",src:"/images/payment/kpay.png",layout:"fill",objectFit:"cover"})}),(0,s.jsxs)("div",{className:"flex flex-col h-12 justify-between",children:[(0,s.jsx)(r.J,{htmlFor:"r2",className:"font-semibold text-sm",children:"KBZ Pay"}),(0,s.jsxs)("div",{className:"flex flow-row items-center gap-1 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"09973854868"}),(0,s.jsx)("span",{children:"(Natsay.com.mm)"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,s.jsx)(c,{value:"b6447a68-7a77-4365-a23f-6d9232a4ee27",id:"b6447a68-7a77-4365-a23f-6d9232a4ee27"}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)("div",{className:"h-12 w-12 relative",children:(0,s.jsx)(u.default,{alt:"wavepay",src:"/images/payment/wave.jpg",layout:"fill",objectFit:"cover",className:"rounded-md"})}),(0,s.jsxs)("div",{className:"flex flex-col h-12 justify-between",children:[(0,s.jsx)(r.J,{htmlFor:"r2",className:"font-semibold text-sm",children:"Wave Pay"}),(0,s.jsxs)("div",{className:"flex flow-row items-center gap-1 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"09973854868"}),(0,s.jsx)("span",{children:"(Natsay.com.mm)"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,s.jsx)(c,{value:"d776755c-0120-4831-91fb-a8f8a7e5f233",id:"d776755c-0120-4831-91fb-a8f8a7e5f233"}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)("div",{className:"h-12 w-12 relative",children:(0,s.jsx)(u.default,{alt:"aya",src:"/images/payment/aya.jpg",layout:"fill",objectFit:"contain",className:"rounded-md"})}),(0,s.jsxs)("div",{className:"flex flex-col h-12 justify-between",children:[(0,s.jsx)(r.J,{htmlFor:"r2",className:"font-semibold text-sm",children:"Aya Pay"}),(0,s.jsxs)("div",{className:"flex flow-row items-center gap-1 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"09973854868"}),(0,s.jsx)("span",{children:"(Natsay.com.mm)"})]})]})]})]})]})}let f=e=>{let{setPayment:t}=e;return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-4 pb-4",children:[(0,s.jsx)("h2",{className:"font-semibold text-xl",children:"Payment Method"}),(0,s.jsx)("p",{className:"p-3 leading-5 text-sm rounded-md text-muted-foreground bg-secondary_color/10",children:"Please ensure that your payment details are accurate before proceeding. Incorrect information may delay your order. And be aware that all transactions are final once completed."}),(0,s.jsx)(m,{setPayment:t})]})}},57895:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var s=a(95155),r=a(12115),n=a(51719),l=a(98867),i=a(73312),d=a(52967),o=a(20853),c=a(21567);a(51344);let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.uB,{ref:t,className:(0,c.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});u.displayName=d.uB.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(d.uB.Input,{ref:t,className:(0,c.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});m.displayName=d.uB.Input.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.uB.List,{ref:t,className:(0,c.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});f.displayName=d.uB.List.displayName;let p=r.forwardRef((e,t)=>(0,s.jsx)(d.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));p.displayName=d.uB.Empty.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.uB.Group,{ref:t,className:(0,c.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});g.displayName=d.uB.Group.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.uB.Separator,{ref:t,className:(0,c.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=d.uB.Separator.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.uB.Item,{ref:t,className:(0,c.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a),...r})});x.displayName=d.uB.Item.displayName;var h=a(80532);let y=h.bL,v=h.l9,b=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...l}=e;return(0,s.jsx)(h.ZL,{children:(0,s.jsx)(h.UC,{ref:t,align:r,sideOffset:n,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});b.displayName=h.UC.displayName;var j=a(43463);let _=e=>{var t;let{options:a,setCategory:d,label:o}=e,[c,h]=r.useState(!1),[_,N]=r.useState(""),w=r.useRef(null);return(0,s.jsxs)(y,{open:c,onOpenChange:h,children:[(0,s.jsx)(v,{className:"w-full",asChild:!0,children:(0,s.jsxs)(i.$,{ref:w,variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between text-inputname",children:[_?null===(t=a.find(e=>e.id===_))||void 0===t?void 0:t.name:o,(0,s.jsx)(n.A,{color:"#796f6f",size:20})]})}),(0,s.jsx)(b,{style:{width:w.current?"".concat(w.current.offsetWidth,"px"):"auto"},className:"p-0",children:(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{placeholder:"Search option..."}),(0,s.jsxs)(f,{children:[(0,s.jsx)(p,{children:"No option found."}),(0,s.jsx)(g,{children:a.map(e=>(0,s.jsxs)(x,{id:e.id,onSelect:()=>{N(e.id),h(!1),d(e.name)},children:[(0,s.jsx)(l.A,{className:(0,j.A)("mr-2 h-4 w-4",_===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})]})]})})]})}},55182:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),r=a(33900),n=a(98986);let l=e=>{let{label:t,name:a,type:l,placeHolder:i,value:d,onChange:o,...c}=e;return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col gap-2",children:[(0,s.jsx)(n.J,{htmlFor:String(a),className:"text-inputlabel",children:t}),(0,s.jsx)(r.p,{className:"focus-visible:ring-offset-0 focus-visible:ring-0",id:String(a),name:String(a),type:l,placeholder:i,value:d,onChange:o,...c})]})}},14643:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(95155),r=a(98986),n=a(12115),l=a(21567);let i=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});i.displayName="Textarea";let d=e=>{let{label:t,name:a,value:n,placeHolder:l,onChange:d,onFileUpload:o,...c}=e;return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"w-full flex flex-row justify-between",children:(0,s.jsx)(r.J,{htmlFor:a,className:"text-inputlabel",children:t})}),(0,s.jsx)(i,{id:a,className:"min-h-36 focus-visible:ring-offset-0 focus-visible:ring-0",name:a,placeholder:l,value:n,onChange:d,...c})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[7525,5565,6299,4065,9217,7204,1261,4929,4223,4566,8441,1517,7358],()=>t(38111)),_N_E=e.O()}]);