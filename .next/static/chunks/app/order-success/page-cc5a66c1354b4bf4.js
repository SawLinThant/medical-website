(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7359],{93356:(e,s,a)=>{Promise.resolve().then(a.bind(a,54322))},73312:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var l=a(95155),t=a(12115),n=a(12317),r=a(31027),i=a(21567);let c=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,s)=>{let{className:a,variant:t,size:r,asChild:d=!1,...o}=e,m=d?n.DX:"button";return(0,l.jsx)(m,{className:(0,i.cn)(c({variant:t,size:r,className:a})),ref:s,...o})});d.displayName="Button"},98986:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var l=a(95155),t=a(12115),n=a(46195),r=a(31027),i=a(21567);let c=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(n.b,{ref:s,className:(0,i.cn)(c(),a),...t})});d.displayName=n.b.displayName},15157:(e,s,a)=>{"use strict";a.d(s,{w:()=>i});var l=a(95155),t=a(12115),n=a(90434),r=a(21567);let i=t.forwardRef((e,s)=>{let{className:a,orientation:t="horizontal",decorative:i=!0,...c}=e;return(0,l.jsx)(n.b,{ref:s,decorative:i,orientation:t,className:(0,r.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...c})});i.displayName=n.b.displayName},76499:(e,s,a)=>{"use strict";a.d(s,{F_:()=>n,nR:()=>i,rD:()=>t,w8:()=>r,z6:()=>l});let l=[{id:"1",name:"Yangon"},{id:"2",name:"Mandalay"}],t=[{id:"1",zone:"Yangon",province:[{id:"1",name:"North Dagon"},{id:"2",name:"South Dagon"},{id:"3",name:"Bahan"},{id:"4",name:"Hlaing"}]},{id:"2",zone:"Mandalay",province:[{id:"1",name:"Chan Aye Tharzan"},{id:"2",name:"29x24 Street"},{id:"3",name:"Kan Daw Mon"},{id:"4",name:"30th Street"}]}],n=[{id:"abfa998a-8e84-4ca0-887e-79f572127bdd",name:"Cash On Delivery",logo:"/images/payment/kpay.png"},{id:"5af460bc-bb4c-4183-b655-22d8dcc18d36",name:"KBZ Pay",logo:"/images/payment/kpay.png"},{id:"b6447a68-7a77-4365-a23f-6d9232a4ee27",name:"Wave Pay",logo:"/images/payment/wave.jpg"},{id:"d776755c-0120-4831-91fb-a8f8a7e5f233",name:"Aya Pay",logo:"/images/payment/aya.jpg"}],r=[{id:"1",name:"All",value:null},{id:"2",name:"Pending",value:"Pending"},{id:"3",name:"Processing",value:"Processing"},{id:"4",name:"Shipped",value:"Shipped"},{id:"5",name:"Delivered",value:"Delivered"}],i=[{id:"Highest to Lowest",name:"Highest to Lowest"},{id:"Lowest to Highest",name:"Lowest to Highest"}]},21567:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n,o:()=>i,v:()=>r});var l=a(43463),t=a(69795);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,t.QP)((0,l.$)(s))}let r=async()=>{try{let e=await fetch("/api/auth/session",{headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json();return null}catch(e){return console.error("Error fetching session data:",e),null}},i=async()=>{localStorage.removeItem("success")}},54322:(e,s,a)=>{"use strict";a.d(s,{default:()=>N});var l=a(95155),t=a(76499),n=a(73312),r=a(15157),i=a(5565),c=a(12115);let d=e=>{let{downloadInvoice:s}=e,[a,t]=(0,c.useState)(!1),d=localStorage.getItem("ordered items"),[o,m]=(0,c.useState)(),x=JSON.parse(d||"").length,f=JSON.parse(d||"").reduce((e,s)=>e+(s&&s.bulk_price&&s.bulk_price>0?s.bulk_price:s.price)*s.quantity,0);return(0,c.useEffect)(()=>{t(!0),d&&m(JSON.parse(d||""))},[d]),(0,l.jsxs)("div",{className:"w-full min-h-36 py-4 px-8 bg-white  border rounded-md flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"w-full flex flex-col gap-2",children:a&&o&&o.length>0&&o.map(e=>{var s;return(0,l.jsxs)("div",{className:"w-full grid grid-cols-4 gap-3 min-h-16",children:[(0,l.jsxs)("div",{className:"col-span-2 flex flex-row items-center gap-1",children:[(0,l.jsx)("div",{className:"w-full h-full relative",children:(0,l.jsx)(i.default,{alt:"",layout:"fill",objectFit:"contain",src:(null===(s=e.images)||void 0===s?void 0:s[0].image_url)||"/images/image_placeholder.jpg"})}),(0,l.jsx)("span",{className:"text-sm",children:e.name})]}),(0,l.jsx)("div",{className:"h-full col-span-1 flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:["x",e.quantity]})}),(0,l.jsx)("div",{className:"h-full col-span-1 flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-sm",children:["MMK"," ",(e.quantity*(e.bulk_price||0)).toLocaleString()]})})]},e.id)})}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,l.jsx)("span",{className:"",children:"Subtotal"}),(0,l.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",a?x:0," items)"]})]}),(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:["MMK ",a?f.toLocaleString():0]})]}),(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,l.jsx)("span",{className:"",children:"Discount"})}),(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:["MMK ",100..toLocaleString()]})]}),(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,l.jsx)("span",{className:"",children:"Delivery"})}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"Free"})]}),(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,l.jsx)("span",{className:"",children:"Tax"}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"PDV 20% (included)"})]}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"MMK 0,000"})]})]}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsxs)("div",{className:"w-full flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,l.jsx)("span",{className:"",children:"Total:"})}),(0,l.jsxs)("span",{className:"text-muted-foreground font-bold",children:["MMK ",a?(f-100).toLocaleString():"0,000"]})]}),(0,l.jsx)("div",{className:"h-6"}),(0,l.jsx)(n.$,{onClick:s,className:"mt-3 flex items-center justify-center",children:"Download Invoice"})]})};var o=a(26336);let m=()=>(0,l.jsxs)("div",{className:"w-full flex flex-row items-center px-8 rounded-lg bg-secondary_color/15 py-6 gap-6",children:[(0,l.jsx)(o.A,{color:"#8d8686",strokeWidth:1.25,size:35}),(0,l.jsx)("span",{className:"text-3xl font-semibold text-muted-foreground",children:"Thank You. Your order is confirmed"})]});var x=a(98986);let f=e=>{let{paymentMethod:s}=e,a=JSON.parse(localStorage.getItem("DeliveryAddress")||""),t=JSON.parse(localStorage.getItem("BillingAddress")||""),n=JSON.parse(localStorage.getItem("orderID")||"");return console.log("payment method success:",s),(0,l.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,l.jsxs)("div",{className:"w-full flex flex-col px-8 rounded-lg border border-gray-300 min-h-32 py-6 gap-6 bg-white",children:[(0,l.jsx)("h2",{className:"font-semibold text-subheading",children:"Order Details"}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"You will receive an email with tracking information once our order has shipped"}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,l.jsx)("span",{className:"font-semibold text-black",children:"Order Number:"})," ","#",n]}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Estimated Delivery:"," ",(0,l.jsx)("span",{className:"font-semibold text-black",children:"January 15, 2025"})]}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Status: ",(0,l.jsx)("span",{className:"font-semibold text-black",children:"Processing"})]})]}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"Need Help? Contact us at"}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,l.jsx)("span",{className:"text-black font-semibold",children:"support@natsay.com"})," ","or ",(0,l.jsx)("span",{className:"text-black font-semibold",children:"09 123 456 789"})]})]})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col px-8 rounded-lg border border-gray-300 min-h-32 py-6 gap-6 bg-white",children:[(0,l.jsx)("h2",{className:"font-semibold text-subheading",children:"Delivery Details"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 text-muted-foreground text-sm",children:[(0,l.jsx)("span",{className:"font-semibold text-black",children:"".concat(a.firstname," ").concat(a.lastname)}),(0,l.jsx)("span",{className:"",children:a.zone}),(0,l.jsx)("span",{className:"",children:a.province}),(0,l.jsx)("span",{className:"",children:a.address}),(0,l.jsx)("span",{className:"",children:a.phone})]}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsx)("h2",{className:"font-semibold text-subheading",children:"Billing Details"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 text-muted-foreground text-sm",children:[(0,l.jsx)("span",{className:"font-semibold text-black",children:"".concat(t.firstname," ").concat(t.lastname)}),(0,l.jsx)("span",{className:"",children:t.zone}),(0,l.jsx)("span",{className:"",children:t.province}),(0,l.jsx)("span",{className:"",children:t.address}),(0,l.jsx)("span",{className:"",children:t.phone})]}),(0,l.jsx)(r.w,{className:"my-4"}),(0,l.jsx)("h2",{className:"font-semibold text-subheading",children:"Payment Method"}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[s&&"Cash On Delivery"===s.name?null:(0,l.jsx)("div",{className:"h-12 w-12 relative",children:(0,l.jsx)(i.default,{alt:"kpay",src:(null==s?void 0:s.logo)||"/image_placeholder.jpg",layout:"fill",objectFit:"cover"})}),(0,l.jsxs)("div",{className:"flex flex-col h-12 justify-between pb-4",children:[(0,l.jsx)(x.J,{htmlFor:"r2",className:"font-semibold text-sm",children:(null==s?void 0:s.name)||""}),(0,l.jsxs)("div",{className:"flex flow-row items-center gap-1 text-sm text-muted-foreground",children:[(0,l.jsx)("span",{children:t.phone}),(0,l.jsx)("span",{children:"(Natsay.com.mm)"})]})]})]})]})]})};var u=a(40078),h=a.n(u),g=a(10142),p=a(76046),j=a(77711);let v=()=>{let e=(0,p.useRouter)();(0,c.useEffect)(()=>{localStorage.getItem("success")||e.replace("/")},[e]);let s=async()=>{let e=document.querySelector(".order-success-content");if(e&&e instanceof HTMLElement){let s=await h()(e),a=s.toDataURL("image/png"),l=new g.Ay,t=190*s.height/s.width,n=t,r=0;for(;n>0;)l.addImage(a,"PNG",10,r,190,t),r-=297,(n-=297)>0&&l.addPage();l.save("invoice.pdf")}},[a,n]=(0,c.useState)({id:"",name:"",logo:""});return(0,c.useEffect)(()=>{let e=localStorage.getItem("paymentID");if(e){let s=t.F_.find(s=>s.id===JSON.parse(e));s&&n(s)}},[]),(0,l.jsx)("section",{className:"w-full flex flex-col items-center lg:min-h-72 order-success-content",children:(0,l.jsx)("div",{className:"w-full max-w-[1300px] lg:mt-16 md:mt-16 mt-4",children:(0,l.jsxs)("div",{className:"w-full grid lg:grid-cols-5 md:grid-cols-5 grid-cols-1 gap-4",children:[(0,l.jsx)("div",{className:"lg:col-span-3 md:col-span-3 col-span-1 min-h-32 flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"w-full min-h-32 flex flex-col gap-4",children:[(0,l.jsx)(m,{}),(0,l.jsx)(f,{paymentMethod:a})]})}),(0,l.jsx)("div",{className:"lg:col-span-2 md:col-span-2 col-span-1",children:(0,l.jsx)(d,{downloadInvoice:s})})]})})})},N=(0,j.default)(()=>Promise.resolve(v),{ssr:!1})}},e=>{var s=s=>e(e.s=s);e.O(0,[3930,4316,7525,5565,9416,8441,1517,7358],()=>s(93356)),_N_E=e.O()}]);